{"version":3,"file":"static/js/671.dd1901eb.chunk.js","mappings":"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","sources":["components/Counter/Counter.jsx","components/CartItem/CartItem.jsx","components/Checkout/Checkout.jsx","components/Cart/Cart.jsx","objectFunctions.js"],"sourcesContent":["import PropTypes from \"prop-types\";\n\nimport \"./Counter.css\";\n\nconst Counter = ({ amount, max, itemId, setAmount }) => {\n  return (\n    <div className=\"counter\">\n      <button\n        className=\"btn_counter-minus\"\n        disabled={amount === 1}\n        onClick={() => setAmount(itemId, amount - 1)}\n      >\n        -\n      </button>\n      <input\n        type=\"number\"\n        name=\"itemAmount\"\n        min={1}\n        max={max}\n        value={amount}\n        onChange={(e) => {\n          const count = parseInt(e.target.value);\n          if (isNaN(count)) {\n            setAmount(itemId, count);\n          } else {\n            if (count < 1) {\n              setAmount(itemId, 1);\n            } else if (count > max) {\n              setAmount(itemId, max);\n            } else {\n              setAmount(itemId, count);\n            }\n          }\n        }}\n      />\n      <button\n        className=\"btn_counter-plus\"\n        disabled={amount === max}\n        onClick={() => setAmount(itemId, amount + 1)}\n      >\n        +\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n\nCounter.propTypes = {\n  amount: PropTypes.number,\n  max: PropTypes.number,\n  itemId: PropTypes.string,\n  setAmount: PropTypes.func,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport Counter from \"../Counter/Counter\";\nimport \"./CartItem.css\";\nimport \"./DarkCartItem.css\";\n\nconst CartItem = ({\n  itemData,\n  cartData,\n  setAmount,\n  deleteItem,\n  selected,\n  changeSelect,\n}) => {\n  const amount = cartData.amount;\n\n  return (\n    <div className=\"cart-item\">\n      <input\n        type=\"checkbox\"\n        name=\"cartItem\"\n        value={itemData.id}\n        checked={selected}\n        onChange={() => changeSelect(itemData.id)}\n      />\n      <Link to={`/shop/${itemData.id}`}>\n        <img\n          src={process.env.PUBLIC_URL + itemData.src}\n          alt={`${itemData.name}`}\n        />\n      </Link>\n      <div className=\"cart-item_info\">\n        <Link to={`/shop/${itemData.id}`}>\n          <h3 className=\"cart-item_name\">{itemData.name}</h3>\n        </Link>\n        <div className=\"cart-item_info__tools\">\n          <button\n            className=\"btn_delete\"\n            onClick={() => deleteItem(itemData.id)}\n          >\n            Delete\n          </button>\n          <Counter\n            amount={amount}\n            max={itemData.number}\n            itemId={itemData.id}\n            setAmount={setAmount}\n          />\n        </div>\n      </div>\n\n      <div className=\"cart-item_buy-info\">\n        <div className=\"cart-item_price\">{`${itemData.price} ${itemData.currency}`}</div>\n        <div className=\"cart-item_available\">\n          {itemData.number > 0\n            ? `Available: ${itemData.number} pcs`\n            : `Not available`}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(CartItem, (p, n) => {\n  // checking are props changed\n  return (\n    p.changeSelect === n.changeSelect &&\n    p.deleteItem === n.deleteItem &&\n    p.itemData === n.itemData &&\n    p.selected === n.selected &&\n    p.setAmount === n.setAmount &&\n    p.cartData.amount === n.cartData.amount &&\n    p.cartData.active === n.active &&\n    p.cartData.id === n.cartData.id\n  );\n});\n\nCartItem.propTypes = {\n  itemData: PropTypes.objectOf(\n    PropTypes.objectOf(\n      PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.object,\n      ])\n    )\n  ),\n  cartData: PropTypes.objectOf(\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool])\n  ),\n  setAmount: PropTypes.func,\n  deleteItem: PropTypes.func,\n  selected: PropTypes.bool,\n  changeSelect: PropTypes.func,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./Checkout.css\";\nimport \"./DarkCheckout.css\";\n\nconst Checkout = ({ amount, sum, currency }) => {\n  return (\n    <div className=\"cart_checkout\">\n      <div className=\"checkout_total\">\n        <div className=\"checkout_total_title\">Total:</div>\n        <div className=\"checkout_total_info\">\n          <div className=\"total_amount\">\n            {amount > 1 ? `${amount} items` : `${amount} item`}\n          </div>\n          <div className=\"total_price\">{`${sum} ${currency}`}</div>\n        </div>\n      </div>\n      <button className=\"btn_checkout\">Checkout</button>\n    </div>\n  );\n};\n\nexport default React.memo(Checkout);\n\nCheckout.propTypes = {\n  getAmount: PropTypes.func,\n  getSum: PropTypes.func,\n  currency: PropTypes.string,\n};\n","import React, { useCallback, useRef } from \"react\";\nimport { Helmet, HelmetProvider } from \"react-helmet-async\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport CartItem from \"../CartItem/CartItem\";\nimport Checkout from \"../Checkout/Checkout\";\nimport { map } from \"../../objectFunctions\";\nimport \"./Cart.css\";\n\nconst Cart = ({ cart, setCart, goods }) => {\n  const cartRef = useRef();\n  cartRef.current = cart;\n\n  const setAmount = useCallback(\n    (id, amount) => {\n      setCart(\n        Object.assign({}, cartRef.current, {\n          [id]: { id, amount, active: cartRef.current[id].active },\n        })\n      );\n    },\n    [setCart]\n  );\n\n  const deleteItem = useCallback(\n    (id) => {\n      const { [id]: deleted, newCart } = cartRef.current;\n      setCart(newCart);\n    },\n    [setCart]\n  );\n\n  const changeSelect = useCallback(\n    (id) => {\n      setCart(\n        Object.assign({}, cartRef.current, {\n          [id]: {\n            id,\n            amount: cartRef.current[id].amount,\n            active: !cartRef.current[id].active,\n          },\n        })\n      );\n    },\n    [setCart]\n  );\n\n  const getAmount = useCallback(() => {\n    let k = 0;\n    for (const [, item] of Object.entries(cartRef.current)) {\n      if (item.active) {\n        k += item.amount;\n      }\n    }\n    return k;\n  }, []);\n\n  const getSum = useCallback(() => {\n    let s = 0;\n    for (const [id, item] of Object.entries(cartRef.current)) {\n      if (item.active) {\n        s += item.amount * goods[id].price;\n      }\n    }\n    return s;\n  }, [goods]);\n\n  return Object.keys(cart).length ? (\n    <HelmetProvider>\n      <Helmet>\n        <title>Cart – devShop</title>\n      </Helmet>\n      <div className=\"cart\">\n        <h2>Cart</h2>\n        <div className=\"cart_window\">\n          <ul className=\"cart_items list\">\n            {map(cart, (item) => {\n              return (\n                <li key={item.id} className=\"cart_items_item\">\n                  <CartItem\n                    cartData={item}\n                    itemData={goods[item.id]}\n                    setAmount={setAmount}\n                    deleteItem={deleteItem}\n                    selected={item.active}\n                    changeSelect={changeSelect}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n          <Checkout amount={getAmount()} sum={getSum()} currency=\"$\" />\n        </div>\n      </div>\n    </HelmetProvider>\n  ) : (\n    <HelmetProvider>\n      <Helmet>\n        <title>Cart – devShop</title>\n      </Helmet>\n      <div className=\"empty-cart\">\n        <h3>Your cart is empty now.</h3>\n        <div className=\"to_shop\">\n          You can choose something{\" \"}\n          <Link to=\"/shop\" className=\"to_shop_link\">\n            here\n          </Link>\n          .\n        </div>\n      </div>\n    </HelmetProvider>\n  );\n};\n\nexport default React.memo(Cart);\n\nCart.propTypes = {\n  goods: PropTypes.objectOf(\n    PropTypes.objectOf(\n      PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n        PropTypes.object,\n      ])\n    )\n  ),\n  cart: PropTypes.objectOf(\n    PropTypes.objectOf(\n      PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool])\n    )\n  ),\n  setCart: PropTypes.func,\n};\n","const filter = (obj, rule) => {\n  const filtered = {};\n  for (let [id, data] of Object.entries(obj)) {\n    if (rule(data)) {\n      filtered[id] = data;\n    }\n  }\n  return filtered;\n};\n\nconst map = (obj, rule) => {\n  const mapped = [];\n  for (let [id, data] of Object.entries(obj)) {\n    mapped.push(rule(data, id));\n  }\n  return mapped;\n};\n\nconst average = (obj, rule) => {\n  let k = 0;\n  let totalRating = 0;\n  for (const [, data] of Object.entries(obj)) {\n    k += 1;\n    totalRating += rule(data);\n  }\n  return totalRating / k;\n};\n\nexport { filter, map, average};\n"],"names":["_ref","amount","max","itemId","setAmount","_jsxs","className","children","_jsx","disabled","onClick","type","name","min","value","onChange","e","count","parseInt","target","isNaN","CartItem","itemData","cartData","deleteItem","selected","changeSelect","id","checked","Link","to","concat","src","process","alt","Counter","number","price","currency","React","p","n","active","Checkout","sum","Cart","cart","setCart","goods","cartRef","useRef","current","useCallback","Object","assign","_defineProperty","_cartRef$current","newCart","getAmount","k","_i","_Object$entries","entries","length","item","_slicedToArray","getSum","s","_i2","_Object$entries2","_Object$entries2$_i","keys","HelmetProvider","Helmet","map","filter","obj","rule","filtered","data","mapped","push","average","totalRating"],"sourceRoot":""}